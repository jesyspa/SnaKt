/unique_predicates.kt:(269,283): info: Generated Viper text for unique_foo_arg:
field bf$root$w: Ref

field bf$root$x: Ref

field bf$root$y: Ref

field bf$root$z: Ref

predicate p$c$Foo$shared(this$dispatch: Ref) {
  acc(this$dispatch.bf$root$w, wildcard) &&
  df$rt$isSubtype(df$rt$typeOf(this$dispatch.bf$root$w), df$rt$intType()) &&
  acc(this$dispatch.bf$root$y, wildcard) &&
  acc(p$c$T$shared(this$dispatch.bf$root$y), wildcard) &&
  df$rt$isSubtype(df$rt$typeOf(this$dispatch.bf$root$y), df$rt$c$root$T()) &&
  acc(p$c$S$shared(this$dispatch), wildcard)
}

predicate p$c$Foo$unique(this$dispatch: Ref) {
  acc(this$dispatch.bf$root$w, wildcard) &&
  df$rt$isSubtype(df$rt$typeOf(this$dispatch.bf$root$w), df$rt$intType()) &&
  acc(this$dispatch.bf$root$x, write) &&
  df$rt$isSubtype(df$rt$typeOf(this$dispatch.bf$root$x), df$rt$intType()) &&
  acc(this$dispatch.bf$root$y, wildcard) &&
  acc(p$c$T$shared(this$dispatch.bf$root$y), wildcard) &&
  acc(p$c$T$unique(this$dispatch.bf$root$y), write) &&
  df$rt$isSubtype(df$rt$typeOf(this$dispatch.bf$root$y), df$rt$c$root$T()) &&
  acc(this$dispatch.bf$root$z, write) &&
  acc(p$c$T$shared(this$dispatch.bf$root$z), wildcard) &&
  acc(p$c$T$unique(this$dispatch.bf$root$z), write) &&
  df$rt$isSubtype(df$rt$typeOf(this$dispatch.bf$root$z), df$rt$c$root$T()) &&
  acc(p$c$S$unique(this$dispatch), write)
}

predicate p$c$S$shared(this$dispatch: Ref) {
  true
}

predicate p$c$S$unique(this$dispatch: Ref) {
  true
}

predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method f$root$unique_foo_arg$TF$T$Foo(p$foo: Ref) returns (ret$0: Ref)
  requires acc(p$c$Foo$unique(p$foo), write)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
{
  inhale df$rt$isSubtype(df$rt$typeOf(p$foo), df$rt$c$root$Foo())
  inhale acc(p$c$Foo$shared(p$foo), wildcard)
  label lbl$ret$0
  inhale df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
}

/unique_predicates.kt:(310,329): info: Generated Viper text for nullable_unique_arg:
predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method f$root$nullable_unique_arg$TF$NT$T(p$t: Ref) returns (ret$0: Ref)
  requires p$t != df$rt$nullValue() ==> acc(p$c$T$unique(p$t), write)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
{
  inhale df$rt$isSubtype(df$rt$typeOf(p$t), df$rt$nullable(df$rt$c$root$T()))
  inhale p$t != df$rt$nullValue() ==> acc(p$c$T$shared(p$t), wildcard)
  label lbl$ret$0
  inhale df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
}

/unique_predicates.kt:(353,372): info: Generated Viper text for borrowed_unique_arg:
predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method f$root$borrowed_unique_arg$TF$T$T(p$t: Ref) returns (ret$0: Ref)
  requires acc(p$c$T$unique(p$t), write)
  ensures acc(p$c$T$unique(p$t), write)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
{
  inhale df$rt$isSubtype(df$rt$typeOf(p$t), df$rt$c$root$T())
  inhale acc(p$c$T$shared(p$t), wildcard)
  label lbl$ret$0
  inhale df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
}

/unique_predicates.kt:(424,439): info: Generated Viper text for unique_receiver:
predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method f$root$unique_receiver$TF$T$T(this$extension: Ref)
  returns (ret$0: Ref)
  requires acc(p$c$T$unique(this$extension), write)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
{
  inhale df$rt$isSubtype(df$rt$typeOf(this$extension), df$rt$c$root$T())
  inhale acc(p$c$T$shared(this$extension), wildcard)
  label lbl$ret$0
  inhale df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
}

/unique_predicates.kt:(488,512): info: Generated Viper text for borrowed_unique_receiver:
predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method f$root$borrowed_unique_receiver$TF$T$T(this$extension: Ref)
  returns (ret$0: Ref)
  requires acc(p$c$T$unique(this$extension), write)
  ensures acc(p$c$T$unique(this$extension), write)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
{
  inhale df$rt$isSubtype(df$rt$typeOf(this$extension), df$rt$c$root$T())
  inhale acc(p$c$T$shared(this$extension), wildcard)
  label lbl$ret$0
  inhale df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$unitType())
}

/unique_predicates.kt:(531,544): info: Generated Viper text for unique_result:
predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method con$c$T() returns (ret: Ref)
  ensures df$rt$isSubtype(df$rt$typeOf(ret), df$rt$c$root$T())
  ensures acc(p$c$T$shared(ret), wildcard)
  ensures acc(p$c$T$unique(ret), write)


method f$root$unique_result$TF() returns (ret$0: Ref)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$c$root$T())
  ensures acc(p$c$T$shared(ret$0), wildcard)
  ensures acc(p$c$T$unique(ret$0), write)
{
  ret$0 := con$c$T()
  goto lbl$ret$0
  label lbl$ret$0
}

/unique_predicates.kt:(579,601): info: Generated Viper text for unique_nullable_result:
predicate p$c$T$shared(this$dispatch: Ref) {
  true
}

predicate p$c$T$unique(this$dispatch: Ref) {
  true
}

method f$root$unique_nullable_result$TF() returns (ret$0: Ref)
  ensures df$rt$isSubtype(df$rt$typeOf(ret$0), df$rt$nullable(df$rt$c$root$T()))
  ensures ret$0 != df$rt$nullValue() ==> acc(p$c$T$shared(ret$0), wildcard)
  ensures ret$0 != df$rt$nullValue() ==> acc(p$c$T$unique(ret$0), write)
{
  ret$0 := df$rt$nullValue()
  goto lbl$ret$0
  label lbl$ret$0
}
